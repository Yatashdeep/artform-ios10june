{"version":3,"sources":["../../src/pages/inboxpage/inboxpage.module.ts","../../src/pages/inboxpage/inboxpage.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InboxpagePage } from './inboxpage';\n\n@NgModule({\n  declarations: [\n    InboxpagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(InboxpagePage),\n  ],\n  exports:[\n    InboxpagePage\n  ]\n})\nexport class InboxpagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inboxpage/inboxpage.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ModalController,\n} from \"ionic-angular\";\nimport { CreateconversationpagePage } from \"../createconversationpage/createconversationpage\";\nimport { Observable } from \"rxjs\";\nimport { SecurityProvider } from \"../../providers/security/security\";\nimport { from } from \"rxjs/observable/from\";\nimport { ChatinboxreplyPage } from \"../chatinboxreply/chatinboxreply\";\nimport { Http, Headers, RequestOptions } from \"@angular/http\";\n/**\n * Generated class for the InboxpagePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-inboxpage\",\n  templateUrl: \"inboxpage.html\",\n})\nexport class InboxpagePage {\n  fakedata = [1, 2, 3, 4];\n  page = 1;\n  inboxdata1;\n  date;\n  inboxdata2 = [];\n  inboxdata = [];\n  loader;\n  totalpages;\n  fakeUsers: Array<any> = new Array(4);\n  loading;\n  messagefilter;\n  messagefilter2;\n  titletrim;\n  titletrim2;\n  flag;\n  text;\n  message;\n  messageactive;\n  constructor(\n    public modalCtrl: ModalController,\n    public security: SecurityProvider,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  ) {\n    this.loader = true;\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad InboxpagePage\");\n    this.flag = 2;\n\n    this.loaddata();\n  }\n\n  loaddata(infiniteScroll?) {\n    console.log(\"hii\");\n    if (this.flag == 1) {\n      this.loading = true;\n      console.log(\"loading\" + this.loading);\n    }\n    {\n      this.loading = false;\n    }\n\n    Observable.of(null)\n      .flatMap(() => this.security.inboxapi(this.page))\n      .subscribe((data) => {\n        console.log(\"data\", data.status);\n\n        if (data.status == \"fail\") {\n          this.message = \"Please Create new Conversation to see inbox list\";\n          this.messageactive = true;\n        }\n        this.loading = true;\n        this.inboxdata1 = data.conversations;\n        // this.inboxdata2.push(this.inboxdata1)\n        // this.inboxdata=this.inboxdata2[0]\n        this.totalpages = data.totalPages;\n        if (this.totalpages == this.page) {\n          this.loader = false;\n          this.text = \"No More Data\";\n        }\n        this.inboxdata = this.inboxdatatest(data.conversations);\n        console.log(\"inboxdata\", this.inboxdata);\n        if (infiniteScroll) {\n          infiniteScroll.complete();\n        }\n      });\n  }\n  inboxdatatest(conversations) {\n    for (var i = 0; i < conversations.length; i++) {\n      // conversations[7].LastMessage.Messages.message\n      this.messagefilter = conversations[i].LastMessage.Messages.message;\n      this.messagefilter2 = this.messagefilter.substring(\n        1,\n        this.messagefilter.length - 1\n      );\n      this.titletrim = conversations[i].Conversations.title;\n      this.titletrim2 = this.titletrim.substring(1, this.titletrim.length - 1);\n\n      this.inboxdata2.push({\n        user_profile_avatar: conversations[i].Users.user_profile_avatar,\n        user_display_name: conversations[i].Users.user_display_name,\n        title: this.titletrim2,\n        last_message: conversations[i].Conversations.last_message,\n        message: this.messagefilter2,\n        conversation_id: conversations[i].Conversations.conversation_id,\n        messageCount: conversations[i][0].messageCount,\n      });\n    }\n\n    return this.inboxdata2;\n  }\n\n  loadMore(infiniteScroll) {\n    this.loading = true;\n    this.page++;\n    this.flag = 1;\n\n    console.log(this.page);\n    console.log(this.totalpages);\n\n    this.loaddata(infiniteScroll);\n    //   if(this.totalpages>=this.page)\n    //   {\n    //     this.loaddata(infiniteScroll)\n    //   }\n    //   else\n    //   {\n    //     this.loader=false\n\n    //  console.log('falsee')\n    //   }\n  }\n  openmsg(id) {\n    this.navCtrl.push(\"ChatinboxreplyPage\", { id: id });\n  }\n  tapshow() {\n    this.navCtrl.push(\"CreateconversationpagePage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inboxpage/inboxpage.ts"],"sourceRoot":""}